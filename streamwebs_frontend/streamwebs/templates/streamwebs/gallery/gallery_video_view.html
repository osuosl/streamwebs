{% extends 'streamwebs/base.html' %}
{% load staticfiles %}
{% load i18n %}
{% load filters %}
{% load verbose_names %}

{% block title %}{% trans "View gallery Video" %}{% endblock %}

{% block content %}
  <style>
    ul.errorlist ~ input {
      border-bottom-color: red;
    }
    ul.errorlist ~ div.input-field{
      border-top: 1px solid red;
    }
    #delete_button {
      margin-right: 3%;
    }
    .wordwrap {
      display:block;
      width:100%;
      word-wrap:break-word;
    }
    video {
      width: 100%;
    }
  </style>

  <div>
    <!-- Back button -->
    <a href="{% url 'streamwebs:site' site.site_slug %}" id="back"
        class="waves-effect wave-light btn white-text teal darken-3">
      <i class="material-icons">chevron_left</i>
      Back to <span>{{ site.site_name }}</span>
    </a>
    <!-- Delete button -->
    <div id="delete-button" class="waves-effect waves-dark btn red darken-3 right"
      href="{% url 'streamwebs:delete_gallery_video' site.site_slug gallery_video.id %}">
      Delete Video
    </div>
    {% include 'streamwebs/datasheets/delete_button_partial.html' %}
  </div>

  <div class="row">
    <!-- Site name -->
    <div class="col s12">
      <h3 align="center" class="teal-text">
        {{ site.site_name }}
      </h3>
    </div>
    <br/>
  </div>

    <!-- File info -->
    <div class="container">
      <div class="row">
        <h4 id="journal_title">
            <b>{% trans "Title: " %} </b>
            {{ gallery_video.title }}
        </h4>
        <b>{% trans "Submitted on: " %}: </b>
        {{ gallery_video.date_time }}
      </div>

      {% if gallery_video.description %}
      <div class="row">
        <b>{% trans "Description" %}: </b>
        {{ gallery_video.description }}
      </div>
      {% endif %}

      <div class="row">
        <b>{% trans "Author" %}: </b>
        {{ gallery_video.user }}
        <br/>
        <b>{% trans "School" %}: </b>
        {{ gallery_video.school }}
        </p>
      </div>

      <div class="row">
        <video controls control="true"
          {% if gallery_video.thumbnail.url != None %}
          poster="{{ gallery_video.thumbnail.url }}"
          {% endif %}>
          <source src="{{ gallery_video.video.url }}">
        </video>
      </div>
      <!-- Video download -->
      <div class="row">
        <div class="col s12 center">
          {% if gallery_video.video.url != None %}
          <a class="btn-large teal darken-3"
             href="{{ gallery_video.video.url }}" download>
            <i class="medium material-icons">file_download</i>
            <span>Download {{ gallery_video.filename }}</span>
          </a>
          {% else %}
          <h3>File does not exist!</h3>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}
